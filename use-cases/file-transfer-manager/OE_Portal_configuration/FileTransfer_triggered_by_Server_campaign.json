[{"name":"File Transfer triggered by Server campaign - Upgrade \"object_26299.xml\" 1.0 to \"1.0b\"","eventType":"campaign.thing","actions":{"0":{"type":"lwm2m.oir.read","params":{"instanceId":"0","lastKnownOnTimeout":"false","objectId":"26299","thingKey":"$(event.thing.key)"},"canvas":{"left":"163","top":"-120"},"routes":{"failure":"5","success":"10"}},"1":{"type":"string.compare","params":{"comparison":"equals","string1":"$(action.0.value.26299.0.2.value)","string2":"1.0"},"canvas":{"diamond_failure":"failure-end0","left":"691","top":"253"},"routes":{"failure":"$endFailure","false":"3","true":"2"}},"10":{"type":"string.compare","params":{"comparison":"equals","string1":"$(action.0.value.26299.0.3.value)","string2":"XML LwM2M"},"canvas":{"diamond_failure":"failure-end0","left":"341","top":"-23"},"routes":{"failure":"$endFailure","false":"11","true":"7"}},"11":{"type":"trigger.result","params":{"resultString":"the file type doesn't match"},"canvas":{"failure":"failure-end0","left":"319","success":"failure-end0","top":"93"},"routes":{"failure":"$endFailure","success":"$endFailure"}},"2":{"type":"lwm2m.oir.write","params":{"instanceId":"0","objectId":"26299","resourceId":"11","thingKey":"$(event.thing.key)","value":"{\"11\":\"https:\/\/raw.githubusercontent.com\/telit\/oneedge-projects-resources\/main\/use-cases\/file-transfer-manager\/samples\/object_26299_v1-0b.xml\", \"12\":{\"0\"=\"HTTPS\", \"1\"=\"no username\", \"2\"=\"no password\", \"3\"=\"no SSL auth\"}}"},"canvas":{"failure":"failure-end0","left":"883","top":"500"},"routes":{"failure":"$endFailure","success":"4"}},"3":{"type":"trigger.result","params":{"resultString":"the version doesn't match"},"canvas":{"failure":"failure-end0","left":"669","success":"failure-end0","top":"365"},"routes":{"failure":"$endFailure","success":"$endFailure"}},"4":{"type":"trigger.result","params":{"resultString":"File transfer parameters sent"},"canvas":{"failure":"failure-end0","left":"928","success":"success-end0","top":"581"},"routes":{"failure":"$endFailure","success":"$endSuccess"}},"5":{"type":"trigger.result","params":{"resultString":"error reading File Version"},"canvas":{"failure":"failure-end0","left":"119","success":"failure-end0","top":"480"},"routes":{"failure":"$endFailure","success":"$endFailure"}},"7":{"type":"string.compare","params":{"comparison":"equals","string1":"$(action.0.value.26299.0.1.value)","string2":"object_26299"},"canvas":{"diamond_failure":"failure-end0","left":"515","top":"101"},"routes":{"failure":"$endFailure","false":"8","true":"1"}},"8":{"type":"trigger.result","params":{"resultString":"the file doesn't match"},"canvas":{"failure":"failure-end0","left":"493","success":"failure-end0","top":"213"},"routes":{"failure":"$endFailure","success":"$endFailure"}}},"firstAction":"0","canvas":{"comments":[{"body":"Read the File Transfer object instance 0 (26299\/0) on each device","canvas":{"color":"yellow_bk","height":"26.153057098388672","left":"352","top":"-139","width":"101.10697937011719"}},{"body":"the previous checks are passed, so the instance 0 already contains the target file to be updated, so send the URL to the device","canvas":{"color":"yellow_bk","height":"27.778593063354492","left":"983","top":"384","width":"55.85673141479492"}},{"body":"check if the this instance 0 contains the right file \"object_26299\" to upgrade","canvas":{"color":"yellow_bk","height":"26.153091430664062","left":"647","top":"81","width":"114.77376556396484"}},{"body":"check if the FileType is the expected one","canvas":{"color":"yellow_bk","height":"26.153057098388672","left":"475","top":"-37","width":"67.08075714111328"}},{"body":"check id the file version is \"1.0\"","canvas":{"color":"yellow_bk","height":"26.15302276611328","left":"824","top":"235","width":"62.75825119018555"}}],"event":{"left":"185","top":"-249"},"failure-end":[{"left":"439","top":"688"}],"success-end":[{"left":"973","top":"685"}]},"emailUpdates":[]}]